<?php

namespace Database\Seeders;

use App\Models\CollegeAdmin;
use App\Models\Student;
use Illuminate\Database\Seeder;

class StudentSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Get or create a college admin
        $admin = CollegeAdmin::first();

        if (!$admin) {
            $admin = CollegeAdmin::create([
                'name' => 'John Doe',
                'email' => 'admin@college.edu',
                'college_name' => 'Sample College',
                'is_active' => true,
                'password' => bcrypt('password'),
            ]);
        }

        $students = [
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Alice Johnson',
                'age' => 20,
                'gender' => 'female',
                'gpa' => 3.8,
                'attendance_rate' => 95.5,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'A'],
                    ['subject' => 'Physics', 'grade' => 'A-'],
                    ['subject' => 'Chemistry', 'grade' => 'B+'],
                ],
                'parental_education_level' => 'bachelors',
                'family_income' => 75000.00,
                'mode_of_transport' => 'car',
                'internet_access' => true,
                'previous_failures' => 0,
                'extracurricular_involvement' => true,
                'mental_health_score' => 8.5,
                'study_hours_per_week' => 25,
                'part_time_job' => false,
                'living_situation' => 'hostel',
                'distance_from_home' => 150,
                'financial_aid' => false,
                'course_of_study' => 'Computer Science',
                'semester' => 3,
                'additional_factors' => ['scholarship_recipient' => 'yes'],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Bob Smith',
                'age' => 19,
                'gender' => 'male',
                'gpa' => 2.1,
                'attendance_rate' => 65.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'D'],
                    ['subject' => 'Physics', 'grade' => 'C-'],
                    ['subject' => 'Chemistry', 'grade' => 'D+'],
                ],
                'parental_education_level' => 'secondary',
                'family_income' => 35000.00,
                'mode_of_transport' => 'bus',
                'internet_access' => false,
                'previous_failures' => 3,
                'extracurricular_involvement' => false,
                'mental_health_score' => 4.0,
                'study_hours_per_week' => 8,
                'part_time_job' => true,
                'living_situation' => 'with_family',
                'distance_from_home' => 25,
                'financial_aid' => true,
                'course_of_study' => 'Engineering',
                'semester' => 2,
                'additional_factors' => ['family_issues' => 'yes'],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Carol Williams',
                'age' => 21,
                'gender' => 'female',
                'gpa' => 3.5,
                'attendance_rate' => 88.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'B+'],
                    ['subject' => 'Physics', 'grade' => 'A'],
                    ['subject' => 'Chemistry', 'grade' => 'B'],
                ],
                'parental_education_level' => 'masters',
                'family_income' => 95000.00,
                'mode_of_transport' => 'car',
                'internet_access' => true,
                'previous_failures' => 1,
                'extracurricular_involvement' => true,
                'mental_health_score' => 7.0,
                'study_hours_per_week' => 20,
                'part_time_job' => false,
                'living_situation' => 'rented_accommodation',
                'distance_from_home' => 200,
                'financial_aid' => false,
                'course_of_study' => 'Biology',
                'semester' => 4,
                'additional_factors' => [],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'David Brown',
                'age' => 22,
                'gender' => 'male',
                'gpa' => 1.8,
                'attendance_rate' => 55.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'F'],
                    ['subject' => 'Physics', 'grade' => 'D'],
                    ['subject' => 'Chemistry', 'grade' => 'F'],
                ],
                'parental_education_level' => 'primary',
                'family_income' => 28000.00,
                'mode_of_transport' => 'walking',
                'internet_access' => false,
                'previous_failures' => 5,
                'extracurricular_involvement' => false,
                'mental_health_score' => 3.5,
                'study_hours_per_week' => 5,
                'part_time_job' => true,
                'living_situation' => 'with_family',
                'distance_from_home' => 10,
                'financial_aid' => true,
                'course_of_study' => 'Business',
                'semester' => 2,
                'additional_factors' => ['health_issues' => 'yes'],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Emma Davis',
                'age' => 20,
                'gender' => 'female',
                'gpa' => 3.9,
                'attendance_rate' => 98.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'A+'],
                    ['subject' => 'Physics', 'grade' => 'A'],
                    ['subject' => 'Chemistry', 'grade' => 'A'],
                ],
                'parental_education_level' => 'phd',
                'family_income' => 120000.00,
                'mode_of_transport' => 'car',
                'internet_access' => true,
                'previous_failures' => 0,
                'extracurricular_involvement' => true,
                'mental_health_score' => 9.0,
                'study_hours_per_week' => 30,
                'part_time_job' => false,
                'living_situation' => 'own_accommodation',
                'distance_from_home' => 50,
                'financial_aid' => false,
                'course_of_study' => 'Medicine',
                'semester' => 5,
                'additional_factors' => ['honor_student' => 'yes'],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Frank Miller',
                'age' => 19,
                'gender' => 'male',
                'gpa' => 2.5,
                'attendance_rate' => 72.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'C'],
                    ['subject' => 'Physics', 'grade' => 'C+'],
                    ['subject' => 'Chemistry', 'grade' => 'B-'],
                ],
                'parental_education_level' => 'secondary',
                'family_income' => 45000.00,
                'mode_of_transport' => 'bus',
                'internet_access' => true,
                'previous_failures' => 2,
                'extracurricular_involvement' => true,
                'mental_health_score' => 6.0,
                'study_hours_per_week' => 15,
                'part_time_job' => false,
                'living_situation' => 'hostel',
                'distance_from_home' => 180,
                'financial_aid' => true,
                'course_of_study' => 'Engineering',
                'semester' => 2,
                'additional_factors' => [],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Grace Wilson',
                'age' => 21,
                'gender' => 'female',
                'gpa' => 3.2,
                'attendance_rate' => 82.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'B'],
                    ['subject' => 'Physics', 'grade' => 'B-'],
                    ['subject' => 'Chemistry', 'grade' => 'B+'],
                ],
                'parental_education_level' => 'bachelors',
                'family_income' => 60000.00,
                'mode_of_transport' => 'car',
                'internet_access' => true,
                'previous_failures' => 1,
                'extracurricular_involvement' => true,
                'mental_health_score' => 7.5,
                'study_hours_per_week' => 18,
                'part_time_job' => true,
                'living_situation' => 'rented_accommodation',
                'distance_from_home' => 120,
                'financial_aid' => false,
                'course_of_study' => 'Psychology',
                'semester' => 3,
                'additional_factors' => [],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Henry Taylor',
                'age' => 20,
                'gender' => 'male',
                'gpa' => 1.5,
                'attendance_rate' => 48.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'F'],
                    ['subject' => 'Physics', 'grade' => 'F'],
                    ['subject' => 'Chemistry', 'grade' => 'D'],
                ],
                'parental_education_level' => 'no_education',
                'family_income' => 22000.00,
                'mode_of_transport' => 'walking',
                'internet_access' => false,
                'previous_failures' => 6,
                'extracurricular_involvement' => false,
                'mental_health_score' => 2.5,
                'study_hours_per_week' => 3,
                'part_time_job' => true,
                'living_situation' => 'with_family',
                'distance_from_home' => 5,
                'financial_aid' => true,
                'course_of_study' => 'Arts',
                'semester' => 1,
                'additional_factors' => ['family_problems' => 'yes'],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Ivy Martinez',
                'age' => 20,
                'gender' => 'female',
                'gpa' => 3.6,
                'attendance_rate' => 90.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'A-'],
                    ['subject' => 'Physics', 'grade' => 'B+'],
                    ['subject' => 'Chemistry', 'grade' => 'A'],
                ],
                'parental_education_level' => 'bachelors',
                'family_income' => 80000.00,
                'mode_of_transport' => 'car',
                'internet_access' => true,
                'previous_failures' => 0,
                'extracurricular_involvement' => true,
                'mental_health_score' => 8.0,
                'study_hours_per_week' => 22,
                'part_time_job' => false,
                'living_situation' => 'hostel',
                'distance_from_home' => 300,
                'financial_aid' => false,
                'course_of_study' => 'Computer Science',
                'semester' => 4,
                'additional_factors' => [],
            ],
            [
                'college_admin_id' => $admin->id,
                'full_name' => 'Jack Anderson',
                'age' => 19,
                'gender' => 'male',
                'gpa' => 2.8,
                'attendance_rate' => 75.0,
                'grades' => [
                    ['subject' => 'Mathematics', 'grade' => 'C+'],
                    ['subject' => 'Physics', 'grade' => 'C'],
                    ['subject' => 'Chemistry', 'grade' => 'B-'],
                ],
                'parental_education_level' => 'secondary',
                'family_income' => 50000.00,
                'mode_of_transport' => 'bus',
                'internet_access' => true,
                'previous_failures' => 1,
                'extracurricular_involvement' => false,
                'mental_health_score' => 5.5,
                'study_hours_per_week' => 12,
                'part_time_job' => true,
                'living_situation' => 'rented_accommodation',
                'distance_from_home' => 100,
                'financial_aid' => false,
                'course_of_study' => 'Business',
                'semester' => 2,
                'additional_factors' => [],
            ],
        ];

        foreach ($students as $studentData) {
            Student::create($studentData);
        }

        $this->command->info('Created 10 students with complete data.');
    }
}
